\documentclass[]{book}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={SEM and R},
            pdfauthor={Bill},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{natbib}
\bibliographystyle{apalike}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\providecommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{SEM and R}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{Bill}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{2021-04-22}

\usepackage{booktabs}
\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\hypertarget{sem-and-r}{%
\chapter{SEM and R}\label{sem-and-r}}

This is the starting point.

\hypertarget{intro}{%
\chapter{Introduction}\label{intro}}

The following R codes and texts are from UCLA website ``\url{https://stats.idre.ucla.edu/r/seminars/rsem/}'' and I do not own the copyright of the R codes or texts. I wrote this R Markdown file for my own study purpose.

\textbf{Given this consideration, please do NOT distribute this page in any way.}

\hypertarget{definitions-basic-concepts}{%
\section{Definitions (Basic Concepts)}\label{definitions-basic-concepts}}

\hypertarget{observed-variable}{%
\subsection{Observed variable}\label{observed-variable}}

Observed variable: A variable that exists in the data (a.k.a item or manifest variable)

\hypertarget{latent-variable}{%
\subsection{Latent variable}\label{latent-variable}}

Latent variable: A variable that is constructed and does not exist in the data.

\hypertarget{exogenous-variable}{%
\subsection{Exogenous variable}\label{exogenous-variable}}

Exogenous variable: An independent variable either observed (X) or latent (\(\xi\)) that explains an engogenous variable.

\hypertarget{endogenous-variable}{%
\subsection{Endogenous variable}\label{endogenous-variable}}

Endogenous variable: A dependent variable, either observed (Y) or latent (\(\eta\)) that has a causal path leading to it.

\hypertarget{measurement-model}{%
\subsection{Measurement model}\label{measurement-model}}

Measurement model: A model that links obseved variables with latent variables.

\hypertarget{indicator-in-a-measurement-model}{%
\subsection{Indicator (in a measurement model)}\label{indicator-in-a-measurement-model}}

Indicator: An observed variable in a measurement model (can be exogenous or endogenous).

\hypertarget{factor}{%
\subsection{Factor}\label{factor}}

Factor: A latent variable defined by its indicators (can be exogenous or endogeous).

\hypertarget{loading}{%
\subsection{Loading}\label{loading}}

Loading: A path between an indicator and a factor.

\hypertarget{structural-model}{%
\subsection{Structural model}\label{structural-model}}

Structural model: A model that specifies casual relationships among exogeous variables to endogeous variables (can be observed or latent).

\hypertarget{regerssion-path}{%
\subsection{Regerssion path}\label{regerssion-path}}

Regression path: A path between exogeous and endogeous variables (can be observed or latent).

\hypertarget{the-path-diagram}{%
\section{The path diagram}\label{the-path-diagram}}

Circles represent latent variables. Squares represent observed indicators. Triangles represent intercepts or means. One way arrows represent paths. Two-way arrows represent either variances or covariances.

\hypertarget{lavaan-syntax}{%
\section{Lavaan syntax}\label{lavaan-syntax}}

\(\sim\) \textbf{predict}: used for regression of observed outcome to observed predictors (e.g., \(y \sim x\)).

\(= \sim\) \textbf{indicator}: used for latent variable to observed indicator in factor analysis measurement models (e.g., \(f= \sim q+r+s\)).

\(\sim \sim\) \textbf{covariance}: (e.g., \(x \sim \sim x\)).

\(\sim 1\) \textbf{intercept or mean}: (e.g., \(x \sim 1\) estimates the mean of variable \(x\)).

\(1*\) \textbf{fixes parameter or loading to one}: (e.g., \(f =\sim 1*q\)).

\(NA *\) \textbf{free parameter or loading}: used to override default marker method (e.g., \(f=\sim NA * q\)).

\(a*\) \textbf{lables the parameter `a'}: used for model constraints (e.g., \(f=\sim a*q\)).

\hypertarget{regression-and-path-analysis}{%
\section{Regression and path analysis}\label{regression-and-path-analysis}}

\[y_{1}=b_{0}+b_{1}x_{1}+\epsilon_{1}\]
\[y_{1}=\alpha+\gamma_{1} x_{1}+\zeta_{1}\]

\(x_{1}\) single exogenous variable

\(y_{1}\) single endogenous variable

\(b_{0}\), \(\alpha_{1}\) intercept of \(y_{1}\) (alpha)

\(b_{1}\), \(\gamma_{1}\) regression coefficient (gamma)

\(\epsilon_{1}\), \(\zeta_{1}\) residual of \(y_{1}\) (epsilon, zeta)

\(\phi\) variance or covariance of the exogenous variable (phi)

\(\psi\) residual variance or covariance of the endogenous variable (psi)

\hypertarget{real-data-example-simple-linear-regression}{%
\chapter{Real data example (Simple linear regression)}\label{real-data-example-simple-linear-regression}}

\hypertarget{read-the-data-into-the-r-studio-environment.}{%
\section{Read the data into the R Studio environment.}\label{read-the-data-into-the-r-studio-environment.}}

It also calcuates the covariance matrix among all the variables in the data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dat <-}\StringTok{ }\KeywordTok{read.csv}\NormalTok{(}\StringTok{"https://stats.idre.ucla.edu/wp-content/uploads/2021/02/worland5.csv"}\NormalTok{)}
\KeywordTok{cov}\NormalTok{(dat)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##        motiv harm stabi ppsych ses verbal read arith spell
## motiv    100   77    59    -25  25     32   53    60    59
## harm      77  100    58    -25  26     25   42    44    45
## stabi     59   58   100    -16  18     27   36    38    38
## ppsych   -25  -25   -16    100 -42    -40  -39   -24   -31
## ses       25   26    18    -42 100     40   43    37    33
## verbal    32   25    27    -40  40    100   56    49    48
## read      53   42    36    -39  43     56  100    73    87
## arith     60   44    38    -24  37     49   73   100    72
## spell     59   45    38    -31  33     48   87    72   100
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{var}\NormalTok{(dat}\OperatorTok{$}\NormalTok{motiv)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 100
\end{verbatim}

In the following, we conduct a simple linear regression.
\[sample \ variance-covariance \ matrix \hat{\sum} = \mathbf{S} \]

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m1a <-}\StringTok{ }\KeywordTok{lm}\NormalTok{(read }\OperatorTok{~}\StringTok{ }\NormalTok{motiv, }\DataTypeTok{data=}\NormalTok{dat)}
\NormalTok{(fit1a <-}\KeywordTok{summary}\NormalTok{(m1a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Call:
## lm(formula = read ~ motiv, data = dat)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -26.0995  -6.1109   0.2342   5.2237  24.0183 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(>|t|)    
## (Intercept) -1.232e-07  3.796e-01    0.00        1    
## motiv        5.300e-01  3.800e-02   13.95   <2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 8.488 on 498 degrees of freedom
## Multiple R-squared:  0.2809, Adjusted R-squared:  0.2795 
## F-statistic: 194.5 on 1 and 498 DF,  p-value: < 2.2e-16
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(lavaan)}
\CommentTok{#simple regression using lavaan }
\NormalTok{m1b <-}\StringTok{   '}
\StringTok{  # regressions}
\StringTok{    read ~ 1+ motiv}
\StringTok{  # variance (optional)}
\StringTok{    motiv ~~ motiv}
\StringTok{'}

\NormalTok{fit1b <-}\StringTok{ }\KeywordTok{sem}\NormalTok{(m1b, }\DataTypeTok{data=}\NormalTok{dat)}
\KeywordTok{summary}\NormalTok{(fit1b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## lavaan 0.6-8 ended normally after 14 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(>|z|)
##   read ~                                              
##     motiv             0.530    0.038   13.975    0.000
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(>|z|)
##    .read             -0.000    0.379   -0.000    1.000
##     motiv             0.000    0.447    0.000    1.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(>|z|)
##     motiv            99.800    6.312   15.811    0.000
##    .read             71.766    4.539   15.811    0.000
\end{verbatim}

\hypertarget{real-data-example-multiple-linear-regression}{%
\chapter{Real data example (Multiple linear regression)}\label{real-data-example-multiple-linear-regression}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m2 <-}\StringTok{ '}
\StringTok{  # regressions}
\StringTok{    read ~ 1 + ppsych + motiv}
\StringTok{ # covariance}
\StringTok{    ppsych ~~ motiv}
\StringTok{'}
\NormalTok{fit2 <-}\StringTok{ }\KeywordTok{sem}\NormalTok{(m2, }\DataTypeTok{data=}\NormalTok{dat)}
\KeywordTok{summary}\NormalTok{(fit2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## lavaan 0.6-8 ended normally after 34 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         9
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(>|z|)
##   read ~                                              
##     ppsych           -0.275    0.037   -7.385    0.000
##     motiv             0.461    0.037   12.404    0.000
## 
## Covariances:
##                    Estimate  Std.Err  z-value  P(>|z|)
##   ppsych ~~                                           
##     motiv           -24.950    4.601   -5.423    0.000
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(>|z|)
##    .read              0.000    0.360    0.000    1.000
##     ppsych           -0.000    0.447   -0.000    1.000
##     motiv             0.000    0.447    0.000    1.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(>|z|)
##    .read             64.708    4.092   15.811    0.000
##     ppsych           99.800    6.312   15.811    0.000
##     motiv            99.800    6.312   15.811    0.000
\end{verbatim}

\hypertarget{bootstrapping}{%
\chapter{Bootstrapping}\label{bootstrapping}}

\hypertarget{introduction}{%
\section{Introduction}\label{introduction}}

\textbf{Warning:}

\textbf{This page is for my own personal study purpose. Distribution is prohibited.}

The following note is made when I was studying Bret Larget's note posted online.
\url{http://pages.stat.wisc.edu/~larget/stat302/chap3.pdf}

He used the data from LOck5data as an example.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(Lock5Data)}
\KeywordTok{data}\NormalTok{(CommuteAtlanta)}
\KeywordTok{str}\NormalTok{(CommuteAtlanta)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    500 obs. of  5 variables:
##  $ City    : Factor w/ 1 level "Atlanta": 1 1 1 1 1 1 1 1 1 1 ...
##  $ Age     : int  19 55 48 45 48 43 48 41 47 39 ...
##  $ Distance: int  10 45 12 4 15 33 15 4 25 1 ...
##  $ Time    : int  15 60 45 10 30 60 45 10 25 15 ...
##  $ Sex     : Factor w/ 2 levels "F","M": 2 2 2 1 1 2 2 1 2 1 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{time.mean =}\StringTok{ }\KeywordTok{with}\NormalTok{(CommuteAtlanta, }\KeywordTok{mean}\NormalTok{(Time))}

\NormalTok{time.mean}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 29.11
\end{verbatim}

Now, he sampled a (b X n) table. Note that, the Atlanta data has 500 row, as it has 500 observations (or, people). But, in the following new matrix, it is a (1000 times 500) table. Also, it should be noted that the logic of sample function in R. This webpage provides some insight into this function. Basically, the following R code randomly sample a bigger sample of (1000 times 500) from those 500 data points. After that, the matrix function put such (1000 times 500) data points into a matrix of (1000 times 500).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{B =}\StringTok{ }\DecValTok{1000}
\NormalTok{n =}\StringTok{ }\KeywordTok{nrow}\NormalTok{(CommuteAtlanta)}
\NormalTok{boot.samples =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\KeywordTok{sample}\NormalTok{(CommuteAtlanta}\OperatorTok{$}\NormalTok{Time, }\DataTypeTok{size =}\NormalTok{ B }\OperatorTok{*}\StringTok{ }\NormalTok{n, }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{),}
\NormalTok{                      B, n)}
\end{Highlighting}
\end{Shaded}

Next, we need to calculate the mean for each row. Remember, we have 1000 rows. Note that, 1 in the apply function indicates that we calculate means on each row, whereas 2 indicates to each column.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{boot.statistics =}\StringTok{ }\KeywordTok{apply}\NormalTok{(boot.samples, }\DecValTok{1}\NormalTok{, mean)}
\end{Highlighting}
\end{Shaded}

We can then plot all the means.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{require}\NormalTok{(ggplot2)}
\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{meanTime =}\NormalTok{ boot.statistics),}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{meanTime)) }\OperatorTok{+}
\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{binwidth=}\FloatTok{0.25}\NormalTok{,}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{..density..)) }\OperatorTok{+}
\KeywordTok{geom_density}\NormalTok{(}\DataTypeTok{color=}\StringTok{"red"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-8-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{time.se =}\StringTok{ }\KeywordTok{sd}\NormalTok{(boot.statistics)}
\NormalTok{time.se}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.9389638
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{me =}\StringTok{ }\KeywordTok{ceiling}\NormalTok{(}\DecValTok{10} \OperatorTok{*}\StringTok{ }\DecValTok{2} \OperatorTok{*}\StringTok{ }\NormalTok{time.se)}\OperatorTok{/}\DecValTok{10}
\NormalTok{me}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1.9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{round}\NormalTok{(time.mean, }\DecValTok{1}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{c}\NormalTok{(}\OperatorTok{-}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{) }\OperatorTok{*}\StringTok{ }\NormalTok{me}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 27.2 31.0
\end{verbatim}

\hypertarget{normal-distribution-sd-se}{%
\section{Normal distribution, SD, SE}\label{normal-distribution-sd-se}}

Note, if we do not use bootstraping, we can use the standard CI formula (\url{https://www.mathsisfun.com/data/confidence-interval.html}). This formula assumes normal distribution. As we can see, this is close to the result based on the bootstrapping method.

\[\overline{X} \pm Z \frac{S}{\sqrt{n}}=29.11 \pm 1.96 \frac{20.72}{\sqrt{500}}=27.29, 30.93\]

Note that, in the following, the author used 2 times SE to calculate the CI. The relationship between SD and SE:

``Now the sample mean will vary from sample to sample; the way this variation occurs is described by the ``sampling distribution'' of the mean. We can estimate how much sample means will vary from the standard deviation of this sampling distribution, which we call the standard error (SE) of the estimate of the mean. As the standard error is a type of standard deviation, confusion is understandable. Another way of considering the standard error is as a measure of the precision of the sample mean." (\url{https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1255808/})

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{boot.mean =}\StringTok{ }\ControlFlowTok{function}\NormalTok{(x,B,}\DataTypeTok{binwidth=}\OtherTok{NULL}\NormalTok{)}
\NormalTok{\{}
\NormalTok{n =}\StringTok{ }\KeywordTok{length}\NormalTok{(x)}
\NormalTok{boot.samples =}\StringTok{ }\KeywordTok{matrix}\NormalTok{( }\KeywordTok{sample}\NormalTok{(x,}\DataTypeTok{size=}\NormalTok{n}\OperatorTok{*}\NormalTok{B,}\DataTypeTok{replace=}\OtherTok{TRUE}\NormalTok{), B, n)}
\NormalTok{boot.statistics =}\StringTok{ }\KeywordTok{apply}\NormalTok{(boot.samples,}\DecValTok{1}\NormalTok{,mean)}
\NormalTok{se =}\StringTok{ }\KeywordTok{sd}\NormalTok{(boot.statistics)}
\KeywordTok{require}\NormalTok{(ggplot2)}
\ControlFlowTok{if}\NormalTok{ ( }\KeywordTok{is.null}\NormalTok{(binwidth) )}
\NormalTok{binwidth =}\StringTok{ }\KeywordTok{diff}\NormalTok{(}\KeywordTok{range}\NormalTok{(boot.statistics))}\OperatorTok{/}\DecValTok{30}
\NormalTok{p =}\StringTok{ }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{x=}\NormalTok{boot.statistics),}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{x)) }\OperatorTok{+}
\KeywordTok{geom_histogram}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{..density..),}\DataTypeTok{binwidth=}\NormalTok{binwidth) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom_density}\NormalTok{(}\DataTypeTok{color=}\StringTok{"red"}\NormalTok{)}
\KeywordTok{plot}\NormalTok{(p)}
\NormalTok{interval =}\StringTok{ }\KeywordTok{mean}\NormalTok{(x) }\OperatorTok{+}\StringTok{ }\KeywordTok{c}\NormalTok{(}\OperatorTok{-}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{)}\OperatorTok{*}\DecValTok{2}\OperatorTok{*}\NormalTok{se}
\KeywordTok{print}\NormalTok{( interval )}
\KeywordTok{return}\NormalTok{( }\KeywordTok{list}\NormalTok{(}\DataTypeTok{boot.statistics =}\NormalTok{ boot.statistics, }\DataTypeTok{interval=}\NormalTok{interval, }\DataTypeTok{se=}\NormalTok{se, }\DataTypeTok{plot=}\NormalTok{p) )}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{out =}\StringTok{ }\KeywordTok{with}\NormalTok{(CommuteAtlanta, }\KeywordTok{boot.mean}\NormalTok{(Distance, }\DataTypeTok{B =} \DecValTok{1000}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-11-1.pdf}

\begin{verbatim}
## [1] 16.91637 19.39563
\end{verbatim}

\hypertarget{sample-function}{%
\section{Sample function}\label{sample-function}}

To understand the function of sample in R.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sample}\NormalTok{(}\DecValTok{20}\NormalTok{,}\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 18  5 16 20  3  9  2 17  1 20  4  5 13 18 14  1 13 19  9  9
\end{verbatim}

The following uses loop to do the resampling. It uses sample function to index the numbers that they want to sample from the original sample. That is, {[}{]} suggests the indexing.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n =}\StringTok{ }\KeywordTok{length}\NormalTok{(CommuteAtlanta}\OperatorTok{$}\NormalTok{Distance)}
\NormalTok{B =}\StringTok{ }\DecValTok{1000}
\NormalTok{result =}\StringTok{ }\KeywordTok{rep}\NormalTok{(}\OtherTok{NA}\NormalTok{, B)}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \DecValTok{1}\OperatorTok{:}\NormalTok{B)}
\NormalTok{\{}
\NormalTok{boot.sample =}\StringTok{ }\KeywordTok{sample}\NormalTok{(n, }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{)}
\NormalTok{result[i] =}\StringTok{ }\KeywordTok{mean}\NormalTok{(CommuteAtlanta}\OperatorTok{$}\NormalTok{Distance[boot.sample])}
\NormalTok{\}}

\KeywordTok{with}\NormalTok{(CommuteAtlanta, }\KeywordTok{mean}\NormalTok{(Distance) }\OperatorTok{+}\StringTok{ }\KeywordTok{c}\NormalTok{(}\OperatorTok{-}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{) }\OperatorTok{*}\StringTok{ }\DecValTok{2} \OperatorTok{*}\StringTok{ }\KeywordTok{sd}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 16.8511 19.4609
\end{verbatim}

\hypertarget{proportion}{%
\section{Proportion}\label{proportion}}

So far, we have dealed with means. How about porpotions?Remember that, when calculating means, it starts with a single column of data to calculate the mean. Similarly, when calculating porpotions, you can just use a single column of data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{reeses =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\KeywordTok{rep}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{11}\NormalTok{), }\KeywordTok{rep}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{19}\NormalTok{))}
\NormalTok{reeses.boot =}\StringTok{ }\KeywordTok{boot.mean}\NormalTok{(reeses, }\DecValTok{1000}\NormalTok{, }\DataTypeTok{binwidth =} \DecValTok{1}\OperatorTok{/}\DecValTok{30}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-14-1.pdf}

\begin{verbatim}
## [1] 0.1901450 0.5431883
\end{verbatim}

However, if we have 48 students (i.e., 48 observations) and thus we have a bigger sample. However, how can we do re-sampling? Based on the note, it is kind of simple. They group them together and then resample from it. Note that, when they re-sampling, the programming do not distinguish the difference between 48 observations. But just combined them as a single column (741+699=1440), and then generate a very long column (1440 times 1000) and then reshape it into a matrix (1440 time 1000). This is the basic logic of the boot.mean function.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{reeses =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\KeywordTok{rep}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{741}\NormalTok{), }\KeywordTok{rep}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{699}\NormalTok{))}
\NormalTok{reeses.boot =}\StringTok{ }\KeywordTok{boot.mean}\NormalTok{(reeses, }\DecValTok{1000}\NormalTok{, }\DataTypeTok{binwidth =} \FloatTok{0.005}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-15-1.pdf}

\begin{verbatim}
## [1] 0.4900437 0.5391230
\end{verbatim}

\hypertarget{boot-package}{%
\section{boot package}\label{boot-package}}

After having a basic idea of boostrapping, we can then use the package of boot.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(boot)}

\KeywordTok{data}\NormalTok{(CommuteAtlanta)}

\NormalTok{my.mean =}\StringTok{ }\ControlFlowTok{function}\NormalTok{(x, indices)}
\NormalTok{\{}
\KeywordTok{return}\NormalTok{( }\KeywordTok{mean}\NormalTok{( x[indices] ) )}
\NormalTok{\}}

\NormalTok{time.boot =}\StringTok{ }\KeywordTok{boot}\NormalTok{(CommuteAtlanta}\OperatorTok{$}\NormalTok{Time, my.mean, }\DecValTok{10000}\NormalTok{)}

\KeywordTok{boot.ci}\NormalTok{(time.boot)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in boot.ci(time.boot): bootstrap variances needed for studentized
## intervals
\end{verbatim}

\begin{verbatim}
## BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
## Based on 10000 bootstrap replicates
## 
## CALL : 
## boot.ci(boot.out = time.boot)
## 
## Intervals : 
## Level      Normal              Basic         
## 95%   (27.27, 30.94 )   (27.20, 30.86 )  
## 
## Level     Percentile            BCa          
## 95%   (27.36, 31.02 )   (27.45, 31.12 )  
## Calculations and Intervals on Original Scale
\end{verbatim}

\hypertarget{concept-of-percentile}{%
\section{Concept of Percentile}\label{concept-of-percentile}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{require}\NormalTok{(Lock5Data)}
\KeywordTok{data}\NormalTok{(ImmuneTea)}
\NormalTok{tea =}\StringTok{ }\KeywordTok{with}\NormalTok{(ImmuneTea, InterferonGamma[Drink}\OperatorTok{==}\StringTok{"Tea"}\NormalTok{])}
\NormalTok{coffee =}\StringTok{ }\KeywordTok{with}\NormalTok{(ImmuneTea, InterferonGamma[Drink}\OperatorTok{==}\StringTok{"Coffee"}\NormalTok{])}
\NormalTok{tea.mean =}\StringTok{ }\KeywordTok{mean}\NormalTok{(tea)}
\NormalTok{coffee.mean =}\StringTok{ }\KeywordTok{mean}\NormalTok{(coffee)}
\NormalTok{tea.n =}\StringTok{ }\KeywordTok{length}\NormalTok{(tea)}
\NormalTok{coffee.n =}\StringTok{ }\KeywordTok{length}\NormalTok{(coffee)}



\NormalTok{B =}\StringTok{ }\DecValTok{500}
\CommentTok{# create empty arrays for the means of each sample}
\NormalTok{tea.boot =}\StringTok{ }\KeywordTok{numeric}\NormalTok{(B)}
\NormalTok{coffee.boot =}\StringTok{ }\KeywordTok{numeric}\NormalTok{(B)}
\CommentTok{# Use a for loop to take the samples}
\ControlFlowTok{for}\NormalTok{ ( i }\ControlFlowTok{in} \DecValTok{1}\OperatorTok{:}\NormalTok{B )}
\NormalTok{  \{}
\NormalTok{tea.boot[i] =}\StringTok{ }\KeywordTok{mean}\NormalTok{(}\KeywordTok{sample}\NormalTok{(tea,}\DataTypeTok{size=}\NormalTok{tea.n,}\DataTypeTok{replace=}\OtherTok{TRUE}\NormalTok{))}
\NormalTok{coffee.boot[i] =}\StringTok{ }\KeywordTok{mean}\NormalTok{(}\KeywordTok{sample}\NormalTok{(coffee,}\DataTypeTok{size=}\NormalTok{coffee.n,}\DataTypeTok{replace=}\OtherTok{TRUE}\NormalTok{))}
\NormalTok{\}}

\NormalTok{boot.stat =}\StringTok{ }\NormalTok{tea.boot }\OperatorTok{-}\StringTok{ }\NormalTok{coffee.boot}
\NormalTok{boot.stat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] 30.5818182 30.9363636 20.5909091 19.2636364 15.9181818 14.6090909
##   [7] 27.3818182 18.1090909 22.1818182 14.5454545 14.5090909 11.6272727
##  [13]  2.8545455 13.9181818 21.0636364  9.8636364 16.0272727 22.6272727
##  [19] 12.2000000  1.8363636 21.8272727 20.8181818 23.1727273 16.5090909
##  [25] 10.5909091  0.4181818 25.6272727 15.9636364 20.5090909  5.3818182
##  [31] 12.5545455 22.6545455 22.5181818 30.7181818  8.0000000 21.2272727
##  [37] 22.0363636 23.6454545 14.9636364  9.5727273 15.6181818  2.3181818
##  [43]  7.9818182  6.9909091 28.6818182  9.2181818 10.0000000 25.2363636
##  [49]  5.8727273  9.2727273 23.9181818 13.1000000  3.8454545 28.4818182
##  [55]  8.6636364 17.7818182  3.0363636 20.9363636 26.5545455  3.1363636
##  [61]  0.7000000 13.8909091  7.9000000 26.6545455 17.3090909  7.9909091
##  [67] 28.4363636 11.1454545 19.1818182 20.7454545 14.1000000 21.1181818
##  [73] 26.0363636 15.1636364 25.8272727 18.8181818 24.0727273 11.2545455
##  [79] 21.2181818 18.4363636 27.9272727 28.4818182 23.0090909 19.1636364
##  [85]  2.4909091 16.7818182  9.2727273 23.3363636 24.8636364 12.8090909
##  [91] 14.2727273 10.7363636 20.6818182 24.8909091 14.6272727 23.7727273
##  [97]  2.7454545 17.4454545  7.1000000 13.9545455 15.8636364  9.7272727
## [103] 26.3000000  2.0818182 11.0454545  6.1454545 21.2818182 16.0727273
## [109]  8.9090909  9.3454545 19.5272727  5.2454545 17.9636364 13.1818182
## [115] 29.9090909 21.4454545 30.7454545 16.2545455 23.9727273  9.4454545
## [121] 20.8545455 15.7545455  1.6090909  5.3000000 31.1181818 16.9363636
## [127] 25.1636364  8.5181818 11.9454545 32.3636364 23.7818182 19.7272727
## [133] 14.0090909 20.7090909 29.7636364 11.6000000 30.5363636 19.5272727
## [139] 30.6272727 20.0545455 17.9545455  8.9727273 13.0818182 13.8000000
## [145] 13.3909091 17.6454545 12.1090909 10.9454545 22.3727273 18.8454545
## [151]  4.1090909 18.1181818 18.8181818  9.4363636 12.9363636  8.3454545
## [157] 34.5454545  3.9000000 19.5090909 19.1090909 20.3727273 16.0000000
## [163] 30.5363636 27.3545455 13.9636364 19.7363636 11.3272727 24.2363636
## [169] 25.4727273 19.1000000  7.9818182 24.5636364  5.3727273 12.8545455
## [175]  8.4363636 11.8545455 28.6454545 30.4454545 14.3818182  1.4090909
## [181] 17.7363636 18.2000000 25.9909091  9.6727273 21.5272727 31.3454545
## [187]  6.9181818 12.9909091 28.2636364 26.2454545  5.9727273 13.4909091
## [193] 23.3727273 14.2727273 10.3727273 11.9363636  5.1272727 16.8363636
## [199] 18.2727273 33.4181818 20.3000000 15.1363636 10.0272727 16.4545455
## [205]  0.1818182 16.1181818 19.7181818 11.4181818  9.3363636 24.2818182
## [211]  6.3363636 16.3909091 13.8363636 17.3181818 23.0363636 12.9636364
## [217] 20.8090909 18.4090909  5.1636364 12.9181818 -6.8090909 26.2727273
## [223]  6.4272727 22.5090909 -3.8272727  8.6272727 38.7727273 27.8545455
## [229] 18.8272727 14.6090909 36.5636364  0.7818182 21.9363636 26.5090909
## [235]  8.2272727 26.3818182 16.8909091 13.6818182 23.5909091  5.0818182
## [241] 12.8454545 10.4000000 16.4272727 10.5909091 22.1454545 15.6000000
## [247] 12.1272727  2.9272727 21.2545455 23.2000000 15.0727273 25.9727273
## [253] 13.9454545  9.9818182  8.6090909 10.9545455 10.4363636 15.9181818
## [259] 17.1636364  5.2818182  9.7272727  3.4545455 14.4000000 26.8363636
## [265] 21.8818182  3.1818182 11.3454545 11.0454545 20.6000000 25.9272727
## [271]  4.6545455 16.7818182 12.4181818 19.2363636 15.7090909  4.9636364
## [277] 18.4363636  6.8727273 22.9363636 15.5909091 16.8363636 26.1181818
## [283]  8.0818182 11.7545455 17.8090909 27.7545455 13.5818182 22.5454545
## [289] 18.9000000 28.4545455 15.9090909 19.7000000 14.9454545  3.1272727
## [295] 17.7181818  3.7181818 28.0363636 13.4636364 15.6909091 12.5909091
## [301] 20.8454545  4.5090909 20.0000000 12.3454545 10.2363636  6.2545455
## [307]  9.0818182 23.7454545 11.1727273 12.9727273  5.1181818 12.1818182
## [313] 28.0000000 24.8909091 16.5363636 12.3363636 17.8818182 11.3727273
## [319] 16.9636364 12.3363636 18.9090909 13.1818182 17.5727273  5.1090909
## [325] 34.0181818 29.5090909 28.3090909 12.7090909 13.4363636  9.9454545
## [331] 18.9000000  3.1636364 11.0818182 22.6272727 11.9181818  8.2545455
## [337] -9.1000000 15.3181818  9.3454545 18.1727273 21.5454545 16.6000000
## [343] 12.8727273 16.0363636 23.7272727 11.8272727 15.7909091 12.1454545
## [349] 21.0545455 27.6909091 18.8818182 16.4181818 22.6090909  3.5272727
## [355]  6.8181818 13.8000000 11.4545455 14.2545455 -1.2181818 12.5909091
## [361] 24.2545455 -2.6727273 10.1909091 23.9545455 21.2818182 19.4000000
## [367] 21.5090909  9.6272727 14.6545455 14.0363636 23.3272727 15.7181818
## [373] 13.7272727 12.6454545 26.8454545  5.1000000 15.2181818  6.1363636
## [379] 19.0090909  3.8272727 19.9727273 -8.6727273 20.6727273 14.2545455
## [385] 24.3272727 26.1000000 17.2454545 27.3090909  7.3363636 19.5727273
## [391] 22.7818182 13.9000000 20.8818182 19.6000000 23.0272727  6.1636364
## [397] 18.7090909 18.8818182 15.0545455 11.7545455 21.4181818 18.5818182
## [403] 20.4818182  6.6636364 24.8636364 33.8818182 25.2090909 13.8636364
## [409] 19.2090909 25.3727273 21.9272727 17.2090909 24.6272727 33.8909091
## [415]  9.1090909 26.5909091 22.2090909 26.0818182 22.4818182 17.7636364
## [421] 28.5727273 19.4363636  8.2090909  6.8909091 11.2727273 19.3909091
## [427] 11.5636364 33.0909091 37.3090909  9.2181818 17.1000000 11.3909091
## [433] 21.9727273 11.2909091 19.2272727 14.0636364 15.0818182 14.2818182
## [439] 37.6818182 15.9454545 20.6363636 24.7909091 20.9090909 25.0181818
## [445] 10.7909091 16.3818182  7.6454545 28.2636364 20.5181818 27.7636364
## [451]  3.8727273 10.5090909 10.1090909 19.0454545 21.9909091 18.9363636
## [457]  1.1818182 19.3363636 13.9000000 15.5636364 16.5727273 16.3090909
## [463] 25.5545455 18.0454545 13.4181818 23.6090909 18.8545455  8.9363636
## [469] 18.3363636 17.4181818  5.8090909 26.8727273  1.6454545  7.9181818
## [475]  9.8818182 -1.1727273 22.6363636 18.3181818  7.3636364 12.6181818
## [481] 23.3000000 14.6090909 12.6000000 12.2181818 19.7636364 12.1909091
## [487] 18.0545455 34.5545455 23.0818182 23.4727273  3.5090909 17.7545455
## [493] 14.7363636  1.6727273 28.3363636 10.6454545  1.1181818 15.5818182
## [499] 15.9818182  7.1000000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Find endpoints for 90%, 95%, and 99% bootstrap confidence intervals using percentiles.}

\CommentTok{# 90%:  5% 95%}
\KeywordTok{quantile}\NormalTok{(boot.stat,}\KeywordTok{c}\NormalTok{(}\FloatTok{0.05}\NormalTok{,}\FloatTok{0.95}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##        5%       95% 
##  3.122727 28.723182
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# 95%: 2.5% 97.5%}
\KeywordTok{quantile}\NormalTok{(boot.stat,}\KeywordTok{c}\NormalTok{(}\FloatTok{0.025}\NormalTok{,}\FloatTok{0.975}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      2.5%     97.5% 
##  1.289773 31.237500
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# 99%:  0.5% 99.5%}
\KeywordTok{quantile}\NormalTok{(boot.stat,}\KeywordTok{c}\NormalTok{(}\FloatTok{0.005}\NormalTok{,}\FloatTok{0.995}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      0.5%     99.5% 
## -5.333091 36.940091
\end{verbatim}

\hypertarget{use-boot-for-correlation}{%
\section{Use Boot for correlation}\label{use-boot-for-correlation}}

The following code is from: \url{https://blog.methodsconsultants.com/posts/understanding-bootstrap-confidence-interval-output-from-the-r-boot-package/}

This page is for my own personal study purpose. Distribution is prohibited.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data_correlation<-}\KeywordTok{read.csv}\NormalTok{(}\StringTok{"data_correlation.csv"}\NormalTok{,}\DataTypeTok{fileEncoding=}\StringTok{"UTF-8-BOM"}\NormalTok{)}

\NormalTok{data_correlation}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    Student LSAT  GPA
## 1        1  576 3.39
## 2        2  635 3.30
## 3        3  558 2.81
## 4        4  578 3.03
## 5        5  666 3.44
## 6        6  580 3.07
## 7        7  555 3.00
## 8        8  661 3.43
## 9        9  651 3.36
## 10      10  605 3.13
## 11      11  653 3.12
## 12      12  575 2.74
## 13      13  545 2.76
## 14      14  572 2.88
## 15      15  594 2.96
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{cor.test}\NormalTok{(data_correlation}\OperatorTok{$}\NormalTok{LSAT,data_correlation}\OperatorTok{$}\NormalTok{GPA)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##  Pearson's product-moment correlation
## 
## data:  data_correlation$LSAT and data_correlation$GPA
## t = 4.4413, df = 13, p-value = 0.0006651
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.4385108 0.9219648
## sample estimates:
##       cor 
## 0.7763745
\end{verbatim}

\hypertarget{use-r-for-mediation}{%
\section{Use R for mediation}\label{use-r-for-mediation}}

\url{https://advstats.psychstat.org/book/mediation/index.php}

\bibliography{book.bib,packages.bib}


\end{document}
